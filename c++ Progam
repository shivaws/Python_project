// c++ program 



#include <iostream>
#include <cstdio>

int main() {
    FILE* file = fopen("output.txt", "w");

    if (file == nullptr) {
        std::cerr << "Error opening file for writing." << std::endl;
        return 1;
    }

    int Num_One, Num_Two, Num_Three, choice, Result;

    std::cout << "Welcome to calculator programmer" << std::endl;

    fputs("Please enter your first number\n", file);
    fflush(file);
    std::cin >> Num_One;

    if (std::cin.fail()) {
        std::cerr << "Error reading input. Exiting." << std::endl;
        fclose(file);
        return 1;
    }

    fputs("Please enter your second number\n", file);
    fflush(file);
    std::cin >> Num_Two;

    if (std::cin.fail()) {
        std::cerr << "Error reading input. Exiting." << std::endl;
        fclose(file);
        return 1;
    }

    fputs("Please enter your third number\n", file);
    fflush(file);
    std::cin >> Num_Three;

    if (std::cin.fail()) {
        std::cerr << "Error reading input. Exiting." << std::endl;
        fclose(file);
        return 1;
    }

    fputs("1) Addition\n", file);
    fflush(file);
    fputs("2) Subtraction\n", file);
    fflush(file);
    fputs("3) Multiplication\n", file);
    fflush(file);
    fputs("4) Division\n", file);
    fflush(file);

    std::cin >> choice;

    if (std::cin.fail()) {
        std::cerr << "Error reading input. Exiting." << std::endl;
        fclose(file);
        return 1;
    }

    switch (choice) {
        case 1: // Addition
            Result = Num_One + Num_Two;
            break;
        case 2: // Subtraction
            Result = Num_One - Num_Two;
            break;
        case 3: // Multiplication
            Result = Num_One * Num_Two * Num_Three;
            break;
        case 4: // Division
            if (Num_Two == 0) {
                fputs("Please enter a number which is not equal to zero\n", file);
                fclose(file);
                return 0;
            } else {
                Result = Num_One % Num_Two;
                break;
            }
        default:
            fputs("Please select the correct option from the above list.\n", file);
            fclose(file);
            return 0;
    }

    if (choice >= 1 && choice <= 4) {
        fprintf(file, "The Ans is: %d\n", Result);
    }

    fclose(file);
    return 0;
}
